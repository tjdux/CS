## 파티셔닝 (Partitioning) & 포매팅 (Formatting)
- 보조기억장치를 사용하기 위해서는 파티셔닝과 포매팅 작업이 필요
- 파티셔닝
  - 저장 장치의 논리적인 영역을 구획하는 작업
  - 파티션 (partition): 파티셔닝 작업을 통해 나누어진 각 영역
- 포매팅
  - 파일 시스템을 설정하여 어떤 방식으로 파일을 저장하고 관리할 것인지를 결정하고, 새로운 데이터를 쓸 준비를 하는 작업
  - 어떤 종류의 파일 시스템을 사용할지 결정
<br/>

## 파일 할당 방법
- 운영 체제는 파일과 디렉터리를 블록 (block) 단위로 읽고 씀
  - 하드 디스크의 가장 작은 단위는 섹터이지만, 하나 이상의 섹터를 블록이라는 단위로 묶은 뒤 블록 단위로 관리
### 연속 할당 (contiguous allocation)
- 보조기억장치 내 연속적인 블록에 파일을 할당하는 방식
- 디렉터리 엔트리 <파일 이름, 첫 번째 블록 주소, 블록 단위의 길이>
- ➕ 구현이 단순
- ➖ 외부 단편화 발생 가능
### 비연속 할당 (non-contiguous allocation) 
#### 연결 할당 (linked allocation) 
- 각 블록 일부에 다음 블록의 주소를 저장하여 각 블록이 다음 블록을 가리키는 형태로 할당하는 방식
- 파일을 이루는 데이터를 연결 리스트로 관리
- 디렉터리 엔트리 <파일 이름, 첫 번째 블록 주소, 블록 단위의 길이>
- ➖ 반드시 첫 번째 블록부터 차례로 읽어야 함 ➡ 임의 접근 (random access, 파일 내 임의의 위치에 접근하는 속도) 속도가 매우 느림
- ➖ 하드웨어 고장이나 오류 발생 시 해당 블록 이후 블록에는 접근 불가능
#### 색인 할당 (indexed allocation)
- 파일의 모든 블록 주소를 색인 블록 (index block)이라는 하나의 블록에 모아 관리하는 방식
- 디렉터리 엔트리 <파일 이름, 색인 블록 주소>
- ➕ 파일 내 임의의 위치에 접근하기 쉬움
<br/>

## 파일 시스템
- 파일과 디렉터리를 보조기억장치에 일목요연하게 저장하고 접근할 수 있게 하는 운영체제 내부 프로그램
### FAT 파일 시스템
- 연결 할당의 단점을 보완
- FAT (File Allocation Table)를 이용하는 파일 시스템
  - 파일 할당 테이블 (FAT): 각 블록에 포함된 다음 블록의 주소들을 한데 모은 테이블
- 디렉터리 엔트리 <파일 이름, 파일의 첫 번째 블록 주소>
- MS-DOS에서 사용, 저용량 저장 장치용 파일 시스템으로 이용
- FAT 파일 시스템을 이용하는 파티션의 구성 <예약 영역, FAT 영역, 루트 디렉터리 영역, 서브 디렉터리와 파일들을 위한 데이터 영역>
  - FAT 영역: FAT 저장
- FAT가 메모리에 캐시되면 임의 접근의 성능이 개선
### 유닉스 파일 시스템
- 색인 할당 기반
- i-node (index-node)
  - 유닉스 파일 시스템에서의 색인 블록
  - 파일 속성 정보 + 15개의 블록 주소 저장 (12개 직접 블록, 1개 단일 간접 블록, 1개 이중 간접 블록, 1개 삼중 간접 블록)
  - 파일 마다 i-node 소유, i-node 마다 번호 부여
- 유닉스 파일 시스템을 이용하는 파티션의 구성 <예약 영역, i-node 영역, 서브 디렉터리와 파일들을 위한 데이터 영역>
  - i-node 영역: i-node 저장
- 파일이 큰 경우 (15개의 블록 이상) i-node는 단일 간접 블록, 이중 간접 블록, 삼중 간접 블록을 가리킴
- 디렉터리 엔트리 <i-node 번호, 파일 이름> 
- 유닉스 파일 시스템은 루트 디렉터리의 i-node를 항상 기억
- 이외의 파일 시스템으로 NT 파일 시스템, ext 파일 시스템 등이 존재
<br/>

## 저널링 파일 시스템
- 파일 시스템을 변경하는 도중에 시스템 크래시가 발생하면 파일 시스템이 훼손될 가능성을 방지
- 저널링 (journaling) 기법: 작업 로그를 통해 시스템 크래시가 발생했을 때 빠르게 복구하기 위한 방법
- 작업 직전 로그를 남긴 후 작업을 수행, 작업이 끝나면 로그 삭제
- 시스템 크래시가 발생하면 로그 영역을 읽어 크래시 발생 당시 어떤 작업을 실행 중이었는지 알아낸 다음 해당 작업을 완료
<br/>

## 마운트 (mount)
- 한 저장 장치의 파일 시스템에서 다른 저장 장치의 파일 시스템에 접근할 수 있도록 파일 시스템을 편입시키는 작업  
