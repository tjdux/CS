## 커널
- 운영체제의 핵심 서비스를 담당하는 부분
  - 운영체제의 핵심 서비스
    - 프로세스 관리
    - 자원 접근 (CPU, 메모리, 입출력 장치) 및 할당
    - 파일 시스템 관리
- 운영체제가 제공하는 서비스 중 커널에 포함되지 않은 서비스도 존재 (e.g. UI)
<br/>

## 이중 모드
- CPU가 명령어를 실행하는 모드를 사용자 모드와 커널 모드로 구분하는 방식
- 운영체제는 이중 모드를 통해 응용 프로그램이 자원에 직접 접근하는 것을 방지
- 사용자 모드
  - 운영체제 서비스를 제공받을 수 없는 실행 모드
  - 자원에 접근 불가(자원에 직접 접근하는 명령어 (커널 영역의 코드) 실행 불가능)
  - 일반적인 응용 프로그램은 사용자 모드로 실행
- 커널 모드
  - 운영체제 서비스를 제공받을 수 있는 모드
  - 자원에 접근 가능 (자원에 접근하는 명령어 (커널 영역의 코드) 실행 가능)
- ➕ 가상 머신을 통한 가상화를 지원하는 CPU는 하이퍼바이저 모드도 지원
<br/>

## 시스템 호출
- 커널 서비스를 제공받기 위해 커널 모드로 전환하는 요청
- 일종의 소프트웨어 인터럽트 (인터럽트 처리 순서와 유사)
- 응용 프로그램은 빈번하게 시스템 호출을 발생시킴
<br/>

## 운영체제의 핵심 서비스
### 프로세스 관리
- 프로세스 (process): 실행 중인 프로그램
- CPU는 한 프로세스를 실행하다가 다른 프로세스로 실행을 전환하고, 그 프로세스를 실행하다가 또 다른 프로세스로 실행을 전환하는 것을 반복 
- 운영체제는 다양한 프로세스를 일목요연하게 관리하고 실행할 수 있어야 함
- 여러 프로세스가 동시에 실행되는 환경에서는 '프로세스 동기화'가 필수적이고, 프로세스가 꼼작도 못하고 더 이상 실행되지 못하는 상황인 '교착 상태'를 해결해야 함
### 자원 접근 및 할당
#### CPU
- 프로세스들에 공정하게 CPU를 할당하기 위해 어떤 프로세스부터 CPU를 이용하게 할 것인지, 얼마나 오래 CPU를 이용하게 할지를 결정할 수 있어야 함 (CPU 스케줄링)
#### 메모리
- 운영체제는 새로운 프로세스가 적재될 때마다 어느 주소에 적재해야 할지를 결정해야 함
#### 입출력장치
- 인터럽트 서비스 루틴은 운영체제가 제공하는 기능으로 커널 영역에 있음
- 운영체제는 인터럽트 서비스 루틴을 제공함으로써 입출력 작업을 수행 
### 파일 시스템 관리
- 파일을 디렉터리 (폴더)로 관리