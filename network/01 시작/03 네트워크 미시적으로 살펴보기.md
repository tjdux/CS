- 프로토콜 (protocol)
  - 노드 간에 정보를 올바르게 주고받기 위해 합의된 규칙이나 방법
  - 서로 다른 통신 장치들이 정보를 주고받으려면 프로토콜이 통해야 함
  - **모든 프로토콜에는 저마다의 목적과 특징이 있음**
  - ➡️ **프로토콜마다 패킷의 헤더 내용이 달라질 수 있음**
<br/>

- 네트워크 참조 모델 (network reference model) (네트워크 계층 모델)
  - 통신이 일어나는 각 과정을 계층으로 나눈 구조
  - 통신 과정을 계층으로 나눈 이유
    - 네트워크 구성과 설계가 용이: 계층의 목적에 맞게 프로토콜과 네트워크 장비를 계층별로 구성 가능
    - 네트워크 문제 진달과 해결이 용이: 문제의 원인을 계층별로 진단하기 수월
  - 1️⃣ OSI 모델
    - 국제 표준화 기구 OSI에서 만듦
    - 이상적 설계: 주로 네트워크를 이론적으로 기술하고 이해할 때 사용
    1. 물리 계층 (physical layer)
       - OSI 모델의 최하단 계층
       - 1과 0으로 표현되는 비트 신호를 주고 받는 계층
    2. 데이터 링크 계층 (data link layer)
       - 네트워크 내 주변 장치 간의 정보를 올바르게 주고받기 위한 계층
       - LAN 기술, MAC 주소
    3. 네트워크 계층 (network layer)
       - 메시지를 다른 네트워크에 속한 수신지까지 전달하는 계층
       - 네트워크 간 (LAN 간)의 통신
       - 인터넷을 가능하게 하는 계층
       - IP 주소
    4. 전송 계층 (transport layer)
       - 신뢰성 있고 안정성 있는 전송을 해야할 때 필요한 계층
       - 포트 (port)
    5. 세션 계층 (session layer)
       - 세션을 관리하기 위한 계층
       - 세션 (session): 통신을 주고받는 호스트의 응용 프로그램 간 연결 상태
    6. 표현 계층 (presentation layer)
       - 사람이 이해할 수 있는 언어인 문자를 컴퓨터가 이해할 수 있는 코드로 변환하거나, 압축, 암호화 등의 작업이 이루어짐
    7. 응용 계층 (application layer)
       - OSI 참조 모델 최상단 계층
       - 사용자 및 사용자가 이용하는 응용 프로그램과 가장 밀접히 맞닿아 있는 계층
       - 응용 프로그램에 다양한 네트워크 서비스를 제공
  - 2️⃣ TCP/IP 모델
    - 실용적 구현: 이론보다는 구현에 중점을 둔 네트워크 참조 모델
    - TCP/IP 4계층, 인터넷 프로토콜 스위트 (internet porotocol suite), TCP/IP 프로토콜 스택 (protocol stack)이라고도 부름
      - 프로토콜 스위트, 프로토콜 스택: 다양한 계층의 프로토콜 집합 
    - TCP와 IP 두 프로토콜이 오늘날 네트워크 구현의 핵심
    1. 네트워크 액세스 계층 (network access layer)
       - 링크 계층 (link layer) 또는 네트워크 인터페이스 계층 (network interface layer)이라고도 부름
       - OSI 모델의 데이터 링크 계층과 유사
    2. 인터넷 계층 (internet layer)
       - OSI 모델의 네트워크 계층과 유사
    3. 전송 계층 (transport layer)
       - OSI 모델의 전송 계층과 유사
    4. 응용 계층 (application layer)
       - OSI 모델의 세션 계층, 표현 계층, 응용 계층을 합친 것과 유사
<br/>

- 캡슐화와 역캡슐화
  - 네트워크 참조 모델에서 메시지는 송신지 입장에서는 높은 계층 → 낮은 계층으로 이동, 수신지 입장에서는 낮은 계층 → 높은 계층으로 이동
  - 1️⃣ 캡슐화 (Encapsulation)
    - 송신 과정에서 헤더 및 트레일러를 추가해 나가는 과정
    - 상위 계층으로부터 받은 패킷을 페이로드 삼아 헤더 및 트레일러를 추가한 후 하위 계층으로 전달
      - 💦 트레일러는 데이터링크 계층에서만 추가됨 
  - 2️⃣ 역캡슐화 (Decapsulation)
    - 수신할 때 캡슐화 과정에서 붙였던 헤더 (및 트레일러)를 각 계층에서 확인한 뒤 제거
<br/>

- PDU (Protocol Data Unit)
  - 각 계층에서 송수신되는 메시지의 단위
  - 상위 계층에서 전달받은 데이터에 현재 계층의 프로토콜 헤더 (및 트레일러)를 추가하면 현재 계층의 PDU 
  <table>
    <tr>
      <th>OSI 계층</th>
      <th>PDU</th>
    </tr>
    <tr>
      <td>응용 계층</td>
      <td rowspan="3">데이터(data)</td>
    </tr>
    <tr>
      <td>표현 계층</td>
    </tr>
    <tr>
      <td>세션 계층</td>
    </tr>
    <tr>
      <td>전송 계층</td>
      <td>세그먼트 (segment (TCP 프로토콜)), 데이터그램 (datagram (UDP 프로토콜))</td>
    </tr>
    <tr>
      <td>네트워크 계층</td>
      <td>패킷 (packet)</td>
    </tr>
    <tr>
      <td>데이터 링크 계층</td>
      <td>프레임 (frame)</td>
    </tr>
    <tr>
      <td>물리 계층</td>
      <td>비트 (bit)</td>
    </tr>
  </table>
<br/>

- 네트워크 참조 모델은 네트워크가 작동하는 방식을 설명하는 개념적 가이드라인 
  - 네트워크 참조 모델은 모든 프로토콜과 네트워크 장비가 반드시 지켜야 하는 엄격한 규칙이나 법규가 아님
    - 네트워크 구조에 대한 개념 참조를 위해 사용하는 것
    - 모든 프로토콜과 네트워크 장비가 모든 모델의 특정 계층에 완벽히 대응되지 않음
  - **참조 모델에 속한 프로토콜 혹은 네트워크 장비가 네트워크를 작동시키는 주체**
<br/>

- 트래픽과 네트워크 성능 지표
  - 트래픽 (traffic)
    - 네트워크 내의 정보량
    - 주로 노드에서 측정: 특정 시점에 노드를 경유하는 정보량
    - 특정 노드에 트래픽이 몰림 == 해당 노드가 특정 시간 동안 처리해야 할 정보가 많음
      - 과부화 (overhead) 생길 가능성
      - 성능 저하로 이어질 수 있음
  - 네트워크 성능 지표
    - 처리율 (throughput)
      - 단위 시간당 네트워크를 통해 실제로 전송되는 정보량
      - 실제 전송된 데이터량
      - 표현 단위: bps, Mbps, Gbps, pps
      - 비교적 실시간성이 강조된 지표
        - 특정 노드가 얼마만큼의 트래픽을 처리하는 중인지 판단하기 위해 사용하는 경우 다수
    - 대역폭 (bandwidth)
      - 단위 시간 동안 통신 매체를 통해 송수신 할 수 있는 최대 정보량
      - 이론적인 최대 전송량 
      - 높은 대역폭 == 많은 정보를 송수신할 수 있음
    - 패킷 손실 (packet loss)
      - 송수신되는 패킷이 손실된 상황
      - 전체 패킷 중 유실된 패킷을 백분위로 표현한 값을 사용하는 경우 다수
      - ping 명령어로 확인 가능 
